name: CI/CD for Microservices

on:
  push:
    branches:
      - main

jobs:
    deploy:
        runs-on: self-hosted
        steps:
          - name: Pull and Deploy Microservices
            run: |
              # Capitalize MICROSERVICE_NAME
              CAPS_MICROSERVICE_NAME = ${vars.MICROSERVICE_NAME}.ToUpper()
              echo "Restarting $CAPS_MICROSERVICE_NAME container..."
